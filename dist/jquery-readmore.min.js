String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),function(a){a.fn.readmore=function(b){var c={chars:50,moreText:"More...",lessText:"Less",newline:!1,speed:1e3};return b=a.extend({},c,b),this.each(function(){function c(a,b){for(var c=!1,d="",e=0;e<a.length;e++){var f=a.charAt(e);if("<"==f)c=!0;else if(">"==f)c=!1;else if(c||/\s/.test(f)||(d+=f),d==b)return e+1}return e}var d=a(this).text().trim(),e=a(this).html().trim(),f=d.split(/\s/),g=0,h=0;for(h=0;h<f.length&&(g+=f[h].length+1,!(g>=b.chars));h++);for(var i="",j=e,k=0;h>k;k++){var l=c(j,f[k]);i+=j.slice(0,l),j=j.slice(l)}var m=b.newline?"<br />":"&nbsp;",n='<span class="readmore-show">'+i+'</span><span class="readmore-rest">'+j+"</span>"+m+'<a class="readmore-more" href="">'+b.moreText+"</a>";a(this).html(n),a(".readmore-rest",this).hide(),a(".readmore-more",this).click(function(){return a(this).siblings(".readmore-rest").toggle(b.speed),a(this).text(a(this).text().trim()==b.lessText?b.moreText:b.lessText),!1})})}}(jQuery);