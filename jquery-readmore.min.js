!function(a){a.fn.readmore=function(b){var c={chars:50,moreText:"More...",lessText:"Less",newline:!1,speed:1e3};return b=a.extend({},c,b),this.each(function(){var c=a(this).text(),d=a(this).html(),e=c.split(/\s/),f=0,g=0;for(g=0;g<e.length&&(f+=e[g].length+1,!(f>=b.chars));g++);for(var h="",i=d,j=0;g>j;j++){var k=i.indexOf(e[j])+e[j].length;h+=i.slice(0,k),i=i.slice(k)}console.log(k);var l=b.newline?"<br />":"&nbsp;",m=h+'<span class="readmore-rest">'+i+"</span>"+l+'<a class="readmore-more" href="">'+b.moreText+"</a>";a(this).html(m),a(".readmore-rest",this).hide(),a(".readmore-more",this).click(function(){return a(this).siblings(".readmore-rest").toggle(b.speed),a(this).text(a(this).text().trim()==b.lessText?b.moreText:b.lessText),!1})})}}(jQuery);